{
  "id": "alluvial",
  "title": "Alluvial Diagram Guide",
  "description": "This guide covers flow visualization using Alluvial (Sankey) diagrams. Alluvial diagrams show how categories flow and change between stages, with node blocks exposing position accessors for additional annotations.",
  "covers": [
    "Alluvial",
    "AlluvialStage",
    "AlluvialNode",
    "AlluvialFlow",
    "AlluvialNodeBlock",
    "Card",
    "Container",
    "Text"
  ],
  "topics": [
    "Flow Visualization",
    "Sankey Diagrams",
    "Customer Journey",
    "Career Progression",
    "Market Share Migration",
    "Node Position Accessors"
  ],
  "content": "# Alluvial Flow Diagrams\n\nAlluvial diagrams visualize how quantities flow between stages, with automatic layout, themed tooltips, and percentage calculations. The component returns position accessors for all node blocks to enable custom annotations.\n\n```javascript\nconst artboard = new Artboard();\n\n// Create main container\nconst mainContainer = new Container({\n  direction: \"vertical\",\n  width: 1120,\n  spacing: 30,\n});\n\nartboard.add(mainContainer);\n\n// Title\nconst title = new Text({\n  content: \"Alluvial Flow Diagrams\",\n  fontSize: 32,\n  style: { fontWeight: 700, fill: \"#171717\" },\n});\nmainContainer.add(title);\n\n// Card 1: Customer Journey\nconst card1 = new Card({\n  width: 1120,\n  height: \"auto\",\n});\nmainContainer.add(card1);\n\nconst card1Container = new Container({\n  direction: \"vertical\",\n  width: \"auto\",\n  height: \"auto\",\n  spacing: 15,\n});\ncard1.add(card1Container);\n\nconst card1Title = new Text({\n  content: \"Customer Journey: Awareness → Conversion\",\n  fontSize: 18,\n  style: { fontWeight: 600 },\n});\ncard1Container.add(card1Title);\n\nconst customerJourneyStages = [\n  {\n    label: \"Awareness\",\n    nodes: [\n      { id: \"social\", label: \"Social Media\" },\n      { id: \"search\", label: \"Search\" },\n      { id: \"referral\", label: \"Referral\" },\n    ],\n  },\n  {\n    label: \"Interest\",\n    nodes: [\n      { id: \"blog\", label: \"Blog\" },\n      { id: \"demo\", label: \"Demo\" },\n      { id: \"pricing\", label: \"Pricing\" },\n    ],\n  },\n  {\n    label: \"Conversion\",\n    nodes: [\n      { id: \"trial\", label: \"Free Trial\" },\n      { id: \"purchase\", label: \"Purchase\" },\n      { id: \"dropped\", label: \"Dropped\" },\n    ],\n  },\n];\n\nconst customerJourneyFlows = [\n  // Awareness → Interest\n  { from: \"social\", to: \"blog\", value: 150 },\n  { from: \"social\", to: \"demo\", value: 80 },\n  { from: \"search\", to: \"blog\", value: 120 },\n  { from: \"search\", to: \"pricing\", value: 200 },\n  { from: \"referral\", to: \"demo\", value: 90 },\n  { from: \"referral\", to: \"pricing\", value: 60 },\n  // Interest → Conversion\n  { from: \"blog\", to: \"trial\", value: 180 },\n  { from: \"blog\", to: \"dropped\", value: 90 },\n  { from: \"demo\", to: \"purchase\", value: 120 },\n  { from: \"demo\", to: \"trial\", value: 50 },\n  { from: \"pricing\", to: \"purchase\", value: 180 },\n  { from: \"pricing\", to: \"dropped\", value: 80 },\n];\n\nconst alluvial1 = new Alluvial({\n  stages: customerJourneyStages,\n  flows: customerJourneyFlows,\n  width: 1080,\n  height: 350,\n  nodeWidth: 25,\n  nodePadding: 15,\n  showStageLabels: true,\n});\ncard1Container.add(alluvial1);\n\n// Card 2: Education → Career Path\nconst card2 = new Card({\n  width: 1120,\n  height: \"auto\",\n});\nmainContainer.add(card2);\n\nconst card2Container = new Container({\n  direction: \"vertical\",\n  width: \"auto\",\n  height: \"auto\",\n  spacing: 15,\n});\ncard2.add(card2Container);\n\nconst card2Title = new Text({\n  content: \"Education to Career Progression\",\n  fontSize: 18,\n  style: { fontWeight: 600 },\n});\ncard2Container.add(card2Title);\n\nconst careerStages = [\n  {\n    label: \"Education\",\n    nodes: [\n      { id: \"cs\", label: \"CS Degree\" },\n      { id: \"eng\", label: \"Engineering\" },\n      { id: \"business\", label: \"Business\" },\n      { id: \"design\", label: \"Design\" },\n    ],\n  },\n  {\n    label: \"First Job\",\n    nodes: [\n      { id: \"dev\", label: \"Developer\" },\n      { id: \"analyst\", label: \"Analyst\" },\n      { id: \"designer\", label: \"Designer\" },\n      { id: \"pm\", label: \"PM\" },\n    ],\n  },\n  {\n    label: \"5 Years Later\",\n    nodes: [\n      { id: \"senior-dev\", label: \"Senior Dev\" },\n      { id: \"lead\", label: \"Tech Lead\" },\n      { id: \"manager\", label: \"Manager\" },\n      { id: \"senior-pm\", label: \"Senior PM\" },\n    ],\n  },\n];\n\nconst careerFlows = [\n  // Education → First Job\n  { from: \"cs\", to: \"dev\", value: 200 },\n  { from: \"cs\", to: \"analyst\", value: 50 },\n  { from: \"eng\", to: \"dev\", value: 100 },\n  { from: \"business\", to: \"analyst\", value: 120 },\n  { from: \"business\", to: \"pm\", value: 80 },\n  { from: \"design\", to: \"designer\", value: 150 },\n  { from: \"design\", to: \"dev\", value: 30 },\n  // First Job → 5 Years Later\n  { from: \"dev\", to: \"senior-dev\", value: 200 },\n  { from: \"dev\", to: \"lead\", value: 100 },\n  { from: \"dev\", to: \"manager\", value: 30 },\n  { from: \"analyst\", to: \"manager\", value: 80 },\n  { from: \"analyst\", to: \"senior-pm\", value: 90 },\n  { from: \"designer\", to: \"lead\", value: 60 },\n  { from: \"designer\", to: \"senior-pm\", value: 40 },\n  { from: \"pm\", to: \"senior-pm\", value: 60 },\n  { from: \"pm\", to: \"manager\", value: 20 },\n];\n\nconst alluvial2 = new Alluvial({\n  stages: careerStages,\n  flows: careerFlows,\n  width: 1080,\n  height: 400,\n  nodeWidth: 30,\n  nodePadding: 12,\n  showStageLabels: true,\n});\ncard2Container.add(alluvial2);\n\n// Card 3: Market Share Migration\nconst card3 = new Card({\n  width: 1120,\n  height: \"auto\",\n});\nmainContainer.add(card3);\n\nconst card3Container = new Container({\n  direction: \"vertical\",\n  width: \"auto\",\n  height: \"auto\",\n  spacing: 15,\n});\ncard3.add(card3Container);\n\nconst card3Title = new Text({\n  content: \"Market Share Changes (2020 → 2023)\",\n  fontSize: 18,\n  style: { fontWeight: 600 },\n});\ncard3Container.add(card3Title);\n\nconst marketStages = [\n  {\n    label: \"2020\",\n    nodes: [\n      { id: \"vendor-a-2020\", label: \"Vendor A\" },\n      { id: \"vendor-b-2020\", label: \"Vendor B\" },\n      { id: \"vendor-c-2020\", label: \"Vendor C\" },\n      { id: \"others-2020\", label: \"Others\" },\n    ],\n  },\n  {\n    label: \"2023\",\n    nodes: [\n      { id: \"vendor-a-2023\", label: \"Vendor A\" },\n      { id: \"vendor-b-2023\", label: \"Vendor B\" },\n      { id: \"vendor-c-2023\", label: \"Vendor C\" },\n      { id: \"others-2023\", label: \"Others\" },\n    ],\n  },\n];\n\nconst marketFlows = [\n  { from: \"vendor-a-2020\", to: \"vendor-a-2023\", value: 280 },\n  { from: \"vendor-a-2020\", to: \"vendor-b-2023\", value: 20 },\n  { from: \"vendor-b-2020\", to: \"vendor-b-2023\", value: 150 },\n  { from: \"vendor-b-2020\", to: \"vendor-a-2023\", value: 50 },\n  { from: \"vendor-b-2020\", to: \"vendor-c-2023\", value: 30 },\n  { from: \"vendor-c-2020\", to: \"vendor-c-2023\", value: 120 },\n  { from: \"vendor-c-2020\", to: \"vendor-b-2023\", value: 40 },\n  { from: \"others-2020\", to: \"others-2023\", value: 80 },\n  { from: \"others-2020\", to: \"vendor-a-2023\", value: 20 },\n  { from: \"others-2020\", to: \"vendor-b-2023\", value: 20 },\n];\n\nconst alluvial3 = new Alluvial({\n  stages: marketStages,\n  flows: marketFlows,\n  width: 1080,\n  height: 350,\n  nodeWidth: 35,\n  nodePadding: 20,\n  showStageLabels: true,\n});\ncard3Container.add(alluvial3);\n\n// Access node blocks for custom annotations\nconst socialBlock = alluvial1.getNodeBlock(\"social\");\nif (socialBlock) {\n  console.log(\"Social Media node:\", socialBlock.topLeft, socialBlock.center);\n}\n\n// Get all node blocks\nconst allBlocks = alluvial1.getAllNodeBlocks();\nconsole.log(`Total nodes: ${allBlocks.length}`);\n```"
}
