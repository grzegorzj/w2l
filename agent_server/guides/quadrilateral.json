{
  "id": "quadrilateral",
  "title": "Quadrilateral Guide",
  "description": "This guide covers the Quadrilateral element for creating four-sided geometric shapes. Quadrilateral supports multiple types including rectangles, squares, parallelograms, trapezoids, rhombi, kites, and custom shapes, with features for marking angles and labeling.",
  "covers": ["Quadrilateral", "Line", "Text", "Rect", "Side", "Angle"],
  "topics": [
    "Quadrilateral Types",
    "Marking Angles",
    "Labeling",
    "Working with Sides",
    "Diagonals and Altitudes",
    "Advanced Constructions",
    "Complete Example: Labeled Rectangle",
    "Complete Example: Parallelogram with Height"
  ],
  "content": "### Rectangles and squares\n\nRectangles and squares are special types that have simplified constructors.\n\nconst square = new Rect({\n    width: 10,\n    height: 10,\n    style: {\n      fill: \"blue\",\n      fillOpacity: 0.7,\n      stroke: colors[index],\n      strokeWidth: 2,\n    },\n  });\n\n### Parallelogram\n\nA quadrilateral with opposite sides parallel.\n\n```javascript\nconst parallelogram = new Quadrilateral({\n  type: \"parallelogram\",\n  a: 120,        // Base length\n  b: 80,         // Side length\n  angle: 60,     // Angle in degrees (default: 60)\n  style: { fill: \"lightyellow\", stroke: \"orange\", strokeWidth: 2 }\n});\n```\n\n### Trapezoid\n\nA quadrilateral with one pair of parallel sides.\n\n```javascript\nconst trapezoid = new Quadrilateral({\n  type: \"trapezoid\",\n  a: 120,        // Bottom base\n  b: 80,         // Top base (optional, defaults to a/2)\n  style: { fill: \"lightcoral\", stroke: \"darkred\", strokeWidth: 2 }\n});\n```\n\n### Rhombus\n\nA parallelogram with all sides equal.\n\n```javascript\nconst rhombus = new Quadrilateral({\n  type: \"rhombus\",\n  a: 100,        // Side length\n  angle: 60,     // Angle in degrees (default: 60)\n  style: { fill: \"lavender\", stroke: \"purple\", strokeWidth: 2 }\n});\n```\n\n### Kite\n\nA quadrilateral with two pairs of adjacent equal sides.\n\n```javascript\nconst kite = new Quadrilateral({\n  type: \"kite\",\n  a: 100,        // Length of first pair of sides\n  b: 80,         // Length of second pair of sides (optional)\n  style: { fill: \"lightpink\", stroke: \"deeppink\", strokeWidth: 2 }\n});\n```\n\n### Custom Quadrilateral\n\nDefine any quadrilateral by specifying four vertices.\n\n```javascript\nconst custom = new Quadrilateral({\n  type: \"custom\",\n  vertices: [\n    { x: -50, y: 40 },   // Bottom-left\n    { x: 60, y: 30 },    // Bottom-right\n    { x: 50, y: -40 },   // Top-right\n    { x: -40, y: -30 }   // Top-left\n  ],\n  style: { fill: \"lightgray\", stroke: \"black\", strokeWidth: 2 }\n});\n```\n\n**Note:** Vertices should be provided in counter-clockwise order.\n\n## Marking Angles\n\n### Single Angle Marker\n\nMark a specific angle at a vertex (0, 1, 2, or 3).\n\n```javascript\n// Mark a right angle with a square marker\nconst angle = quad.showAngle(0, {\n  mode: 'internal',\n  label: \"90째\",\n  rightAngleMarker: \"square\",\n  style: { stroke: \"red\", strokeWidth: 1.5 }\n});\n\nartboard.add(angle);\n```\n\n**Options:**\n- `mode`: `'internal'` (inside quadrilateral) or `'external'` (outside)\n- `label`: Text label for the angle (supports LaTeX like `\"$\\\\alpha$\"`)\n- `radius`: Size of the angle arc in pixels (optional, has sensible defaults)\n- `rightAngleMarker`: `\"square\"`, `\"dot\"`, or `\"arc\"` for 90째 angles\n- `style`: SVG styling for the angle marker\n\n### Mark All Angles\n\n```javascript\nconst angles = quad.showAngles({\n  mode: 'internal',\n  labels: [\"$\\\\alpha$\", \"$\\\\beta$\", \"$\\\\gamma$\", \"$\\\\delta$\"],\n  style: { stroke: \"blue\", strokeWidth: 1.5 }\n});\n\nangles.forEach(angle => artboard.add(angle));\n```\n\n## Labeling\n\n### Side Labels\n\nLabel the four sides.\n\n```javascript\n// Default labels: a, b, c, d\nconst sideLabels = quad.createSideLabels();\nsideLabels.forEach(label => artboard.add(label));\n\n// Custom labels\nconst customLabels = quad.createSideLabels(\n  [\"$a$\", \"$b$\", \"$c$\", \"$d$\"],\n  { offset: 15, fontSize: 14 }\n);\ncustomLabels.forEach(label => artboard.add(label));\n```\n\n**Configuration:**\n- `offset`: Distance from the side (default: 10px)\n- `fontSize`: Size of the label text\n- `side`: Position relative to the side\n\n### Vertex Labels\n\nLabel the four vertices.\n\n```javascript\n// Default labels: A, B, C, D\nconst vertexLabels = quad.createVertexLabels();\nvertexLabels.forEach(label => artboard.add(label));\n\n// Custom labels\nconst customVertexLabels = quad.createVertexLabels(\n  [\"$A$\", \"$B$\", \"$C$\", \"$D$\"],\n  20,  // offset distance\n  16   // fontSize\n);\ncustomVertexLabels.forEach(label => artboard.add(label));\n```\n\n## Working with Sides\n\n### Get Side Information\n\n```javascript\nconst sides = quad.sides;\n\n// Access side 0 (between vertex 0 and 1)\nconst side0 = sides[0];\n\nconsole.log(side0.length);         // Length in pixels\nconsole.log(side0.center);         // Center point of the side\nconsole.log(side0.start);          // Starting vertex\nconsole.log(side0.end);            // Ending vertex\nconsole.log(side0.angle);          // Angle in degrees\nconsole.log(side0.outwardNormal);  // Outward-facing unit normal\nconsole.log(side0.inwardNormal);   // Inward-facing unit normal\nconsole.log(side0.direction);      // Direction unit vector\n```\n\n### Get Side Lines\n\n```javascript\nconst [line0, line1, line2, line3] = quad.getSideLines();\n\n// Style individual sides differently\nline0.style = { stroke: \"red\", strokeWidth: 3 };\nline1.style = { stroke: \"blue\", strokeWidth: 3 };\n\n[line0, line1, line2, line3].forEach(line => artboard.add(line));\n```\n\n## Diagonals and Altitudes\n\nQuadrilaterals support convenient methods for drawing and accessing diagonals and altitudes, similar to the Triangle element.\n\n### Drawing Diagonals\n\nThe simplest way to draw diagonals:\n\n```javascript\n// Draw both diagonals automatically\nconst diagonals = quad.drawDiagonals({\n  stroke: \"blue\",\n  strokeWidth: 1.5,\n  strokeDasharray: \"4,4\"\n});\n\ndiagonals.forEach(line => artboard.add(line));\n```\n\n### Getting Diagonal Information\n\nAccess diagonal properties for positioning:\n\n```javascript\nconst diagonals = quad.getDiagonals();\n\n// Each diagonal has:\nconsole.log(diagonals[0].start);   // Starting vertex\nconsole.log(diagonals[0].end);     // Ending vertex\nconsole.log(diagonals[0].length);  // Length in pixels\nconsole.log(diagonals[0].center);  // Center point (intersection for rectangles)\nconsole.log(diagonals[0].angle);   // Angle in degrees\nconsole.log(diagonals[0].line);    // Ready-to-use Line object\n\n// Place a marker at the diagonal intersection\nconst marker = new Circle({ radius: 5, style: { fill: \"red\" } });\nmarker.position({\n  relativeTo: diagonals[0].center,\n  relativeFrom: marker.center,\n  x: 0,\n  y: 0\n});\nartboard.add(marker);\n```\n\n### Drawing Altitudes\n\nDraw perpendicular lines from vertices to opposite sides:\n\n```javascript\n// Draw all altitudes\nconst altitudes = quad.drawAltitudes({\n  stroke: \"red\",\n  strokeWidth: 1,\n  strokeDasharray: \"3,3\"\n});\n\naltitudes.forEach(line => artboard.add(line));\n```\n\n### Getting Altitude Information\n\nAccess altitude properties for labeling and positioning:\n\n```javascript\nconst altitudes = quad.getAltitudes();\n\n// Each altitude has:\nconsole.log(altitudes[0].origin);  // Starting point (vertex)\nconsole.log(altitudes[0].foot);    // Foot of altitude (on opposite side)\nconsole.log(altitudes[0].height);  // Length of altitude\nconsole.log(altitudes[0].line);    // Ready-to-use Line object\n\n// Label the altitude\nconst label = new Text({ content: `h = ${altitudes[0].height.toFixed(1)}`, fontSize: 12 });\nlabel.position({\n  relativeTo: {\n    x: (altitudes[0].origin.x + altitudes[0].foot.x) / 2,\n    y: (altitudes[0].origin.y + altitudes[0].foot.y) / 2\n  },\n  relativeFrom: label.center,\n  x: -20,\n  y: 0\n});\nartboard.add(label);\n\n// Mark the foot with a circle\nconst footMarker = new Circle({ radius: 4, style: { fill: \"orange\" } });\nfootMarker.position({\n  relativeTo: altitudes[0].foot,\n  relativeFrom: footMarker.center,\n  x: 0,\n  y: 0\n});\nartboard.add(footMarker);\n```\n\n### Rectangles: getDiagonals and showAngles\n\nThe Rect element (rectangles and squares) has similar methods:\n\n```javascript\nconst rect = new Rect({ width: 150, height: 100, style: { fill: \"lightblue\", stroke: \"blue\" } });\nartboard.add(rect);\n\n// Draw diagonals\nconst diagonals = rect.drawDiagonals({ stroke: \"blue\", strokeDasharray: \"5,3\" });\ndiagonals.forEach(line => artboard.add(line));\n\n// Show right angle markers at all corners\nconst angles = rect.showAngles({ rightAngleMarker: \"square\" });\nangles.forEach(angle => artboard.add(angle));\n\n// Show angle at specific corner\nconst angle = rect.showAngle(\"topLeft\", { \n  rightAngleMarker: \"square\",\n  label: \"90째\"\n});\nartboard.add(angle);\n\n// Create corner labels\nconst labels = rect.createCornerLabels([\"$A$\", \"$B$\", \"$C$\", \"$D$\"], 25, 14);\nlabels.forEach(label => artboard.add(label));\n\n// Create side labels\nconst sideLabels = rect.createSideLabels([\"$a$\", \"$b$\", \"$a$\", \"$b$\"], 20, 14);\nsideLabels.forEach(label => artboard.add(label));\n```\n\n## Advanced Constructions\n\n### Marking Parallel Sides\n\n```javascript\n// For a parallelogram, mark parallel sides with arrows\nconst sides = quad.sides;\nconst [line0, line1, line2, line3] = quad.getSideLines();\n\n// Visually indicate parallel sides (e.g., sides 0 and 2)\nline0.style = { stroke: \"red\", strokeWidth: 2 };\nline2.style = { stroke: \"red\", strokeWidth: 2 };\n\n// Sides 1 and 3\nline1.style = { stroke: \"blue\", strokeWidth: 2 };\nline3.style = { stroke: \"blue\", strokeWidth: 2 };\n\n[line0, line1, line2, line3].forEach(line => artboard.add(line));\n```\n\n### Marking Equal Sides\n\n```javascript\n// For a rhombus or kite, indicate equal sides\n// Add tick marks or use same color for equal sides\n```\n\n### Height of Parallelogram\n\n```javascript\n// Draw height (perpendicular from one side to opposite side)\nconst altitudes = quad.getAltitudes();\n\n// Draw altitude from vertex 3 to opposite side\nartboard.add(altitudes[3].line);\n\n// Label the altitude\nconst heightLabel = new Text({ content: \"$h$\", fontSize: 14 });\nheightLabel.position({\n  relativeFrom: heightLabel.center,\n  relativeTo: {\n    x: (altitudes[3].origin.x + altitudes[3].foot.x) / 2,\n    y: (altitudes[3].origin.y + altitudes[3].foot.y) / 2\n  },\n  x: -15,\n  y: 0\n});\nartboard.add(heightLabel);\n\n// Mark the foot of the altitude\nconst footMarker = new Circle({ radius: 4, style: { fill: \"orange\" } });\nfootMarker.position({\n  relativeTo: altitudes[3].foot,\n  relativeFrom: footMarker.center,\n  x: 0,\n  y: 0\n});\nartboard.add(footMarker);\n```\n\n## Complete Example: Labeled Rectangle\n\n```javascript\n// Create a rectangle\nconst rect = new Quadrilateral({\n  type: \"rectangle\",\n  a: 140,\n  b: 90,\n  style: { fill: \"rgba(100, 150, 255, 0.2)\", stroke: \"navy\", strokeWidth: 2 }\n});\n\nartboard.add(rect);\n\n// Mark all right angles\nconst angles = rect.showAngles({\n  mode: 'internal',\n  rightAngleMarker: \"square\"\n});\nangles.forEach(angle => artboard.add(angle));\n\n// Label the sides\nconst sideLabels = rect.createSideLabels([\"$a$\", \"$b$\", \"$a$\", \"$b$\"]);\nsideLabels.forEach(label => artboard.add(label));\n\n// Label the vertices\nconst vertexLabels = rect.createVertexLabels([\"$A$\", \"$B$\", \"$C$\", \"$D$\"]);\nvertexLabels.forEach(label => artboard.add(label));\n\n// Draw diagonals using the convenient method\nconst diagonals = rect.drawDiagonals({ stroke: \"red\", strokeWidth: 1, strokeDasharray: \"4,4\" });\ndiagonals.forEach(line => artboard.add(line));\n```\n\n## Complete Example: Parallelogram with Height\n\n```javascript\n// Create a parallelogram\nconst para = new Quadrilateral({\n  type: \"parallelogram\",\n  a: 120,\n  b: 70,\n  angle: 65,\n  style: { fill: \"rgba(255, 200, 100, 0.2)\", stroke: \"orange\", strokeWidth: 2 }\n});\n\nartboard.add(para);\n\n// Mark angles\nconst angles = para.showAngles({\n  mode: 'internal',\n  labels: [\"$\\\\alpha$\", \"$\\\\beta$\", \"$\\\\alpha$\", \"$\\\\beta$\"]\n});\nangles.forEach(angle => artboard.add(angle));\n\n// Label sides showing parallel sides have equal length\nconst sideLabels = para.createSideLabels([\"$a$\", \"$b$\", \"$a$\", \"$b$\"]);\nsideLabels.forEach(label => artboard.add(label));\n\n// Draw altitude using the convenient method\nconst altitudes = para.getAltitudes();\nartboard.add(altitudes[3].line); // Altitude from vertex 3\n\n// Label the altitude\nconst heightLabel = new Text({ content: `h = ${altitudes[3].height.toFixed(1)}`, fontSize: 12 });\nheightLabel.position({\n  relativeTo: {\n    x: (altitudes[3].origin.x + altitudes[3].foot.x) / 2,\n    y: (altitudes[3].origin.y + altitudes[3].foot.y) / 2\n  },\n  relativeFrom: heightLabel.center,\n  x: -20,\n  y: 0\n});\nartboard.add(heightLabel);\n```\n\n## Best Practices\n\n1. **Choose the right type** - Use the most specific type for clarity\n2. **Label consistently** - Follow mathematical conventions\n3. **Use LaTeX** - Wrap math symbols in `$...$` for proper formatting\n4. **Mark equal sides** - Use same labels for equal sides\n5. **Mark parallel sides** - Use colors or arrows to show parallelism\n6. **Angle order** - Vertices are numbered 0-3 counter-clockwise\n7. **Right angle markers** - Use \"square\" for 90째 angles\n8. **Custom vertices** - Ensure counter-clockwise ordering\n\n## Common Patterns\n\n### Rectangle with Dimensions\n\n```javascript\nconst rect = new Quadrilateral({\n  type: \"rectangle\",\n  a: 120,\n  b: 80,\n  style: { fill: \"lightblue\", stroke: \"navy\", strokeWidth: 2 }\n});\n\nartboard.add(rect);\n\nconst sides = rect.sides;\n\n// Add dimension labels\nconst widthLabel = new Text({ content: \"120\", fontSize: 14 });\nwidthLabel.position({\n  relativeFrom: widthLabel.center,\n  relativeTo: sides[0].center,\n  x: 0,\n  y: 25\n});\nartboard.add(widthLabel);\n\nconst heightLabel = new Text({ content: \"80\", fontSize: 14 });\nheightLabel.position({\n  relativeFrom: heightLabel.center,\n  relativeTo: sides[1].center,\n  x: 30,\n  y: 0\n});\nartboard.add(heightLabel);\n```\n\n### Trapezoid Area Diagram\n\n```javascript\nconst trapezoid = new Quadrilateral({\n  type: \"trapezoid\",\n  a: 120,\n  b: 70,\n  style: { fill: \"rgba(255, 200, 100, 0.3)\", stroke: \"orange\", strokeWidth: 2 }\n});\n\nartboard.add(trapezoid);\n\n// Label parallel sides as bases\nconst sideLabels = trapezoid.createSideLabels([\"$b_2$\", \"\", \"$b_1$\", \"\"]);\nsideLabels.forEach(label => artboard.add(label));\n\n// Add height line (similar to parallelogram height example)\n```\n\n## Troubleshooting\n\n**Angles not in right position?**\n- Verify vertex indices (0-3)\n- Check if quadrilateral is convex\n- Adjust radius for better visibility\n\n**Custom quadrilateral looks wrong?**\n- Ensure vertices are in counter-clockwise order\n- Check vertex coordinates are relative to center\n\n**Labels overlapping?**\n- Increase offset distance\n- Adjust fontSize\n- Position labels manually if needed"
}
