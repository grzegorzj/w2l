{
  "id": "polygons-and-curves",
  "title": "Polygons and Curves Guide",
  "description": "This guide covers RegularPolygon for creating polygons with any number of sides, BezierCurve for smooth curved paths, and other specialized shape elements like Rect (Rectangle), Square, and Image.",
  "covers": [
    "Circle",
    "Line",
    "Text",
    "RegularPolygon",
    "BezierCurve",
    "Rect",
    "Square",
    "Image",
    "Side",
    "Angle"
  ],
  "topics": [
    "Regular Polygon",
    "Bezier Curves",
    "Rectangle and Square",
    "Image",
    "Complete Examples",
    "Common Calculations"
  ],
  "content": "### Basic Regular Polygons\n\n```javascript\n// Pentagon (5 sides)\nconst pentagon = new RegularPolygon({\n  sides: 5,\n  radius: 50,\n  style: { fill: \"lightblue\", stroke: \"navy\", strokeWidth: 2 }\n});\n\n// Hexagon (6 sides)\nconst hexagon = new RegularPolygon({\n  sides: 6,\n  radius: 50,\n  style: { fill: \"lightgreen\", stroke: \"darkgreen\", strokeWidth: 2 }\n});\n\n// Octagon (8 sides)\nconst octagon = new RegularPolygon({\n  sides: 8,\n  radius: 50,\n  style: { fill: \"lightyellow\", stroke: \"orange\", strokeWidth: 2 }\n});\n```\n\n### With Rotation\n\n```javascript\n// Pentagon with flat bottom\nconst flatPentagon = new RegularPolygon({\n  sides: 5,\n  radius: 50,\n  rotation: -90,  // Rotate to have flat bottom\n  style: { fill: \"lightcoral\", stroke: \"darkred\", strokeWidth: 2 }\n});\n\n// Hexagon pointing up\nconst pointyHex = new RegularPolygon({\n  sides: 6,\n  radius: 50,\n  rotation: 30,   // Rotate 30 degrees\n  style: { fill: \"lavender\", stroke: \"purple\", strokeWidth: 2 }\n});\n```\n\n### Accessing Polygon Properties\n\n```javascript\nconst hexagon = new RegularPolygon({\n  sides: 6,\n  radius: 60\n});\n\n// Get center\nconsole.log(hexagon.center);\n\n// Get vertices (absolute positions)\nconst vertices = hexagon.absoluteVertices;\nvertices.forEach((vertex, i) => {\n  console.log(`Vertex ${i}: (${vertex.x}, ${vertex.y})`);\n});\n\n// Get geometric properties\nconsole.log(hexagon.sideLength);     // Length of each side\nconsole.log(hexagon.apothem);        // Distance from center to side midpoint\nconsole.log(hexagon.boundingWidth);  // Width of bounding box\nconsole.log(hexagon.boundingHeight); // Height of bounding box\n```\n\n### Labeling Vertices\n\n```javascript\nconst pentagon = new RegularPolygon({\n  sides: 5,\n  radius: 60,\n  rotation: -90,\n  style: { fill: \"rgba(100, 150, 255, 0.2)\", stroke: \"navy\", strokeWidth: 2 }\n});\n\nartboard.add(pentagon);\n\n// Label each vertex\nconst vertices = pentagon.absoluteVertices;\nconst labels = [\"A\", \"B\", \"C\", \"D\", \"E\"];\n\nvertices.forEach((vertex, i) => {\n  // Draw vertex marker\n  const dot = new Circle({\n    radius: 4,\n    style: { fill: \"red\" }\n  });\n  \n  dot.position({\n    relativeFrom: dot.center,\n    relativeTo: vertex,\n    x: 0,\n    y: 0\n  });\n  \n  artboard.add(dot);\n  \n  // Calculate outward direction from center\n  const centerPos = pentagon.center;\n  const dx = vertex.x - centerPos.x;\n  const dy = vertex.y - centerPos.y;\n  const dist = Math.sqrt(dx * dx + dy * dy);\n  const offsetX = (dx / dist) * 20;\n  const offsetY = (dy / dist) * 20;\n  \n  // Add label\n  const label = new Text({\n    content: labels[i],\n    fontSize: 14\n  });\n  \n  label.position({\n    relativeFrom: label.center,\n    relativeTo: vertex,\n    x: offsetX,\n    y: offsetY\n  });\n  \n  artboard.add(label);\n});\n```\n\n### Polygon with Side Labels\n\n```javascript\nconst hexagon = new RegularPolygon({\n  sides: 6,\n  radius: 60,\n  style: { fill: \"lightblue\", stroke: \"navy\", strokeWidth: 2 }\n});\n\nartboard.add(hexagon);\n\nconst vertices = hexagon.absoluteVertices;\n\n// Label each side\nfor (let i = 0; i < vertices.length; i++) {\n  const v1 = vertices[i];\n  const v2 = vertices[(i + 1) % vertices.length];\n  \n  // Calculate side midpoint\n  const midX = (v1.x + v2.x) / 2;\n  const midY = (v1.y + v2.y) / 2;\n  \n  // Calculate outward normal\n  const centerPos = hexagon.center;\n  const dx = midX - centerPos.x;\n  const dy = midY - centerPos.y;\n  const dist = Math.sqrt(dx * dx + dy * dy);\n  const offsetX = (dx / dist) * 15;\n  const offsetY = (dy / dist) * 15;\n  \n  const label = new Text({\n    content: `${hexagon.sideLength.toFixed(1)}`,\n    fontSize: 12\n  });\n  \n  label.position({\n    relativeFrom: label.center,\n    relativeTo: { x: midX, y: midY },\n    x: offsetX,\n    y: offsetY\n  });\n  \n  artboard.add(label);\n}\n```\n\n### Showing Apothem\n\n```javascript\nconst hexagon = new RegularPolygon({\n  sides: 6,\n  radius: 60,\n  rotation: 30,\n  style: { fill: \"rgba(100, 200, 100, 0.2)\", stroke: \"darkgreen\", strokeWidth: 2 }\n});\n\nartboard.add(hexagon);\n\n// Draw apothem line from center to side midpoint\nconst vertices = hexagon.absoluteVertices;\nconst v1 = vertices[0];\nconst v2 = vertices[1];\nconst sideMidX = (v1.x + v2.x) / 2;\nconst sideMidY = (v1.y + v2.y) / 2;\n\nconst apothemLine = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: sideMidX - hexagon.center.x, y: sideMidY - hexagon.center.y },\n  style: { stroke: \"red\", strokeWidth: 2, strokeDasharray: \"4,4\" }\n});\n\napothemLine.position({\n  relativeFrom: apothemLine.start,\n  relativeTo: hexagon.center,\n  x: 0,\n  y: 0\n});\n\nartboard.add(apothemLine);\n\n// Label apothem\nconst apothemLabel = new Text({\n  content: `$a = ${hexagon.apothem.toFixed(1)}$`,\n  fontSize: 14\n});\n\napothemLabel.position({\n  relativeFrom: apothemLabel.center,\n  relativeTo: { x: (hexagon.center.x + sideMidX) / 2, y: (hexagon.center.y + sideMidY) / 2 },\n  x: 10,\n  y: 0\n});\n\nartboard.add(apothemLabel);\n```\n\n## Bezier Curves\n\nCreate smooth curved paths using quadratic or cubic Bezier curves.\n\n### Quadratic Bezier Curve\n\nUses one control point.\n\n```javascript\nconst curve = new BezierCurve({\n  start: { x: 100, y: 100 },\n  end: { x: 300, y: 100 },\n  controlPoint1: { x: 200, y: 50 },\n  style: {\n    stroke: \"#3498db\",\n    strokeWidth: 3,\n    fill: \"none\"\n  }\n});\n\nartboard.add(curve);\n```\n\n### Cubic Bezier Curve\n\nUses two control points for more complex curves.\n\n```javascript\nconst curve = new BezierCurve({\n  start: { x: 100, y: 100 },\n  end: { x: 400, y: 100 },\n  controlPoint1: { x: 200, y: 50 },\n  controlPoint2: { x: 300, y: 150 },\n  style: {\n    stroke: \"#e74c3c\",\n    strokeWidth: 3,\n    fill: \"none\"\n  }\n});\n\nartboard.add(curve);\n```\n\n### S-Curve\n\nCreate an S-shaped curve.\n\n```javascript\nconst sCurve = new BezierCurve({\n  start: { x: 100, y: 200 },\n  end: { x: 300, y: 200 },\n  controlPoint1: { x: 150, y: 100 },\n  controlPoint2: { x: 250, y: 300 },\n  style: {\n    stroke: \"#9b59b6\",\n    strokeWidth: 3,\n    fill: \"none\"\n  }\n});\n\nartboard.add(sCurve);\n```\n\n### Showing Control Points\n\n```javascript\nconst curve = new BezierCurve({\n  start: { x: 100, y: 200 },\n  end: { x: 400, y: 200 },\n  controlPoint1: { x: 200, y: 100 },\n  controlPoint2: { x: 300, y: 300 },\n  style: {\n    stroke: \"blue\",\n    strokeWidth: 3,\n    fill: \"none\"\n  }\n});\n\nartboard.add(curve);\n\n// Get curve properties\nconst start = curve.start;\nconst end = curve.end;\nconst cp1 = curve.controlPoint1;\nconst cp2 = curve.controlPoint2;\n\n// Draw control point lines (construction lines)\nconst line1 = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: cp1.x - start.x, y: cp1.y - start.y },\n  style: { stroke: \"gray\", strokeWidth: 1, strokeDasharray: \"3,3\" }\n});\n\nline1.position({\n  relativeFrom: line1.start,\n  relativeTo: start,\n  x: 0,\n  y: 0\n});\n\nartboard.add(line1);\n\nconst line2 = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: end.x - cp2.x, y: end.y - cp2.y },\n  style: { stroke: \"gray\", strokeWidth: 1, strokeDasharray: \"3,3\" }\n});\n\nline2.position({\n  relativeFrom: line2.start,\n  relativeTo: cp2,\n  x: 0,\n  y: 0\n});\n\nartboard.add(line2);\n\n// Mark control points\nconst cpMarker1 = new Circle({ radius: 5, style: { fill: \"red\" } });\ncpMarker1.position({\n  relativeFrom: cpMarker1.center,\n  relativeTo: cp1,\n  x: 0,\n  y: 0\n});\nartboard.add(cpMarker1);\n\nconst cpMarker2 = new Circle({ radius: 5, style: { fill: \"red\" } });\ncpMarker2.position({\n  relativeFrom: cpMarker2.center,\n  relativeTo: cp2,\n  x: 0,\n  y: 0\n});\nartboard.add(cpMarker2);\n\n// Mark endpoints\nconst startMarker = new Circle({ radius: 5, style: { fill: \"blue\" } });\nstartMarker.position({\n  relativeFrom: startMarker.center,\n  relativeTo: start,\n  x: 0,\n  y: 0\n});\nartboard.add(startMarker);\n\nconst endMarker = new Circle({ radius: 5, style: { fill: \"blue\" } });\nendMarker.position({\n  relativeFrom: endMarker.center,\n  relativeTo: end,\n  x: 0,\n  y: 0\n});\nartboard.add(endMarker);\n```\n\n## Rectangle and Square\n\n### Basic Rectangle\n\n```javascript\nconst rect = new Rect({\n  width: 120,\n  height: 80,\n  style: { fill: \"lightblue\", stroke: \"navy\", strokeWidth: 2 }\n});\n\nartboard.add(rect);\n```\n\n### Rectangle with Box Model\n\n```javascript\nconst rect = new Rect({\n  width: 120,\n  height: 80,\n  boxModel: {\n    padding: 10,\n    margin: 5,\n    border: 2\n  },\n  style: { fill: \"lightgreen\", stroke: \"darkgreen\" }\n});\n\nartboard.add(rect);\n```\n\n### Square\n\n```javascript\nconst square = new Square({\n  size: 100,\n  style: { fill: \"lightyellow\", stroke: \"orange\", strokeWidth: 2 }\n});\n\nartboard.add(square);\n```\n\n### Rectangle Anchor Points\n\n```javascript\nconst rect = new Rect({\n  width: 120,\n  height: 80,\n  style: { fill: \"lightcoral\", stroke: \"darkred\", strokeWidth: 2 }\n});\n\nartboard.add(rect);\n\n// Access anchor points\nconst anchors = [\n  { point: rect.topLeft, label: \"TL\" },\n  { point: rect.topCenter, label: \"TC\" },\n  { point: rect.topRight, label: \"TR\" },\n  { point: rect.centerLeft, label: \"CL\" },\n  { point: rect.center, label: \"C\" },\n  { point: rect.centerRight, label: \"CR\" },\n  { point: rect.bottomLeft, label: \"BL\" },\n  { point: rect.bottomCenter, label: \"BC\" },\n  { point: rect.bottomRight, label: \"BR\" }\n];\n\nanchors.forEach(({ point, label }) => {\n  const dot = new Circle({ radius: 3, style: { fill: \"red\" } });\n  dot.position({\n    relativeFrom: dot.center,\n    relativeTo: point,\n    x: 0,\n    y: 0\n  });\n  artboard.add(dot);\n  \n  const text = new Text({ content: label, fontSize: 10 });\n  text.position({\n    relativeFrom: text.center,\n    relativeTo: point,\n    x: 0,\n    y: -15\n  });\n  artboard.add(text);\n});\n```\n\n## Image\n\nEmbed images in diagrams.\n\n### Basic Image\n\n```javascript\nconst img = new Image({\n  href: \"path/to/image.png\",\n  width: 200,\n  height: 150\n});\n\nartboard.add(img);\n```\n\n### Positioned Image\n\n```javascript\nconst img = new Image({\n  href: \"diagram.svg\",\n  width: 300,\n  height: 200\n});\n\nimg.position({\n  relativeFrom: img.topLeft,\n  relativeTo: artboard.contentBox.topLeft,\n  x: 50,\n  y: 50\n});\n\nartboard.add(img);\n```\n\n### Image with Border\n\n```javascript\nconst img = new Image({\n  href: \"photo.jpg\",\n  width: 250,\n  height: 200,\n  style: {\n    stroke: \"black\",\n    strokeWidth: 3\n  }\n});\n\nartboard.add(img);\n```\n\n## Complete Examples\n\n### Labeled Hexagon with Measurements\n\n```javascript\nconst hexagon = new RegularPolygon({\n  sides: 6,\n  radius: 70,\n  rotation: 30,\n  style: { fill: \"rgba(100, 150, 255, 0.2)\", stroke: \"navy\", strokeWidth: 2 }\n});\n\nhexagon.position({\n  relativeFrom: hexagon.center,\n  relativeTo: artboard.contentBox.center,\n  x: 0,\n  y: 0\n});\n\nartboard.add(hexagon);\n\n// Label vertices\nconst vertices = hexagon.absoluteVertices;\nconst vertexLabels = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\"];\n\nvertices.forEach((vertex, i) => {\n  const centerPos = hexagon.center;\n  const dx = vertex.x - centerPos.x;\n  const dy = vertex.y - centerPos.y;\n  const dist = Math.sqrt(dx * dx + dy * dy);\n  const offsetX = (dx / dist) * 25;\n  const offsetY = (dy / dist) * 25;\n  \n  const label = new Text({\n    content: vertexLabels[i],\n    fontSize: 16,\n    style: { fill: \"navy\" }\n  });\n  \n  label.position({\n    relativeFrom: label.center,\n    relativeTo: vertex,\n    x: offsetX,\n    y: offsetY\n  });\n  \n  artboard.add(label);\n});\n\n// Draw and label radius\nconst radiusLine = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: vertices[0].x - hexagon.center.x, y: vertices[0].y - hexagon.center.y },\n  style: { stroke: \"red\", strokeWidth: 2, strokeDasharray: \"4,4\" }\n});\n\nradiusLine.position({\n  relativeFrom: radiusLine.start,\n  relativeTo: hexagon.center,\n  x: 0,\n  y: 0\n});\n\nartboard.add(radiusLine);\n\nconst radiusLabel = new Text({\n  content: \"$r = 70$\",\n  fontSize: 14\n});\n\nradiusLabel.position({\n  relativeFrom: radiusLabel.center,\n  relativeTo: hexagon.center,\n  x: 40,\n  y: -10\n});\n\nartboard.add(radiusLabel);\n\n// Add side length label\nconst sideLengthLabel = new Text({\n  content: `Side length: ${hexagon.sideLength.toFixed(1)}`,\n  fontSize: 12\n});\n\nsideLengthLabel.position({\n  relativeFrom: sideLengthLabel.topCenter,\n  relativeTo: hexagon.center,\n  x: 0,\n  y: 100\n});\n\nartboard.add(sideLengthLabel);\n```\n\n### Bezier Curve Animation Path\n\n```javascript\n// Create a smooth path using multiple Bezier curves\nconst path1 = new BezierCurve({\n  start: { x: 100, y: 200 },\n  end: { x: 200, y: 150 },\n  controlPoint1: { x: 130, y: 180 },\n  controlPoint2: { x: 170, y: 160 },\n  style: { stroke: \"blue\", strokeWidth: 3, fill: \"none\" }\n});\n\nconst path2 = new BezierCurve({\n  start: { x: 200, y: 150 },\n  end: { x: 300, y: 180 },\n  controlPoint1: { x: 230, y: 140 },\n  controlPoint2: { x: 270, y: 160 },\n  style: { stroke: \"blue\", strokeWidth: 3, fill: \"none\" }\n});\n\nconst path3 = new BezierCurve({\n  start: { x: 300, y: 180 },\n  end: { x: 400, y: 200 },\n  controlPoint1: { x: 330, y: 200 },\n  controlPoint2: { x: 370, y: 210 },\n  style: { stroke: \"blue\", strokeWidth: 3, fill: \"none\" }\n});\n\nartboard.add(path1);\nartboard.add(path2);\nartboard.add(path3);\n\n// Mark the path endpoints\nconst marker = new Circle({\n  radius: 6,\n  style: { fill: \"red\" }\n});\n\nmarker.position({\n  relativeFrom: marker.center,\n  relativeTo: { x: 100, y: 200 },\n  x: 0,\n  y: 0\n});\n\nartboard.add(marker);\n```\n\n## Best Practices\n\n1. **Regular Polygons**\n   - Use rotation to orient polygons appropriately\n   - Access vertices for labeling and measurements\n   - Calculate outward directions for label placement\n   - Use apothem and side length for geometric problems\n\n2. **Bezier Curves**\n   - Use quadratic for simple curves (one control point)\n   - Use cubic for complex S-curves (two control points)\n   - Show control points for educational diagrams\n   - Keep fill as \"none\" for curve paths\n\n3. **Rectangles**\n   - Use box model for padding/margin/border\n   - Access anchor points for positioning\n   - Use Rect for flexible rectangles, Square for equal sides\n\n4. **Images**\n   - Provide width and height explicitly\n   - Use relative or absolute paths\n   - Position using appropriate anchor points\n\n## Common Calculations\n\n### Polygon Interior Angle\n\n```javascript\nconst sides = 6;\nconst interiorAngle = ((sides - 2) * 180) / sides;\nconsole.log(`Interior angle: ${interiorAngle}Â°`);\n```\n\n### Polygon Area\n\n```javascript\nconst hexagon = new RegularPolygon({ sides: 6, radius: 50 });\nconst area = (hexagon.sides * hexagon.sideLength * hexagon.apothem) / 2;\nconsole.log(`Area: ${area}`);\n```\n\n### Bezier Point at Parameter t\n\n```javascript\n// Quadratic Bezier at parameter t (0 to 1)\nfunction quadraticBezier(start, cp, end, t) {\n  const x = (1-t)*(1-t)*start.x + 2*(1-t)*t*cp.x + t*t*end.x;\n  const y = (1-t)*(1-t)*start.y + 2*(1-t)*t*cp.y + t*t*end.y;\n  return { x, y };\n}\n\n// Cubic Bezier at parameter t\nfunction cubicBezier(start, cp1, cp2, end, t) {\n  const x = (1-t)*(1-t)*(1-t)*start.x + 3*(1-t)*(1-t)*t*cp1.x + 3*(1-t)*t*t*cp2.x + t*t*t*end.x;\n  const y = (1-t)*(1-t)*(1-t)*start.y + 3*(1-t)*(1-t)*t*cp1.y + 3*(1-t)*t*t*cp2.y + t*t*t*end.y;\n  return { x, y };\n}\n```\n\n## Troubleshooting\n\n**Polygon orientation wrong?**\n- Adjust rotation parameter\n- Check that rotation is in degrees (not radians)\n\n**Bezier curve not smooth?**\n- Adjust control point positions\n- Use cubic Bezier for more complex curves\n- Ensure fill is \"none\" for path curves\n\n**Labels overlapping?**\n- Calculate outward direction from center\n- Increase offset distance\n- Adjust font size\n\n**Rectangle not showing?**\n- Check width and height are positive\n- Verify positioning\n- Ensure stroke or fill is set"
}