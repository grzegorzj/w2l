{
  "id": "function-graph",
  "title": "Function Graph Guide",
  "description": "This guide covers the FunctionGraph element for plotting mathematical functions with automatic detection of remarkable points (roots, extrema, inflection points, etc.). FunctionGraph is designed to handle K-12 mathematics and first-year university topics with ease.",
  "covers": [
    "Circle",
    "Line",
    "Text",
    "FunctionGraph",
    "Rect",
    "Container",
    "Grid"
  ],
  "topics": [
    "Creating a Basic Graph",
    "Function Configuration",
    "Graph Configuration",
    "Remarkable Points",
    "Shaded Regions",
    "Accessing Graph Elements",
    "Common Functions"
  ],
  "content": "### Simple Function Plot\n\n```javascript\nconst graph = new FunctionGraph({\n  functions: {\n    fn: (x) => x * x,\n    color: \"blue\",\n  },\n  width: 600,\n  height: 400,\n  domain: [-5, 5],\n});\n\nartboard.add(graph);\n```\n\n### With Custom Range\n\n```javascript\nconst graph = new FunctionGraph({\n  functions: {\n    fn: (x) => Math.sin(x),\n    color: \"red\",\n  },\n  width: 600,\n  height: 400,\n  domain: [-Math.PI * 2, Math.PI * 2],\n  range: [-2, 2], // Explicit y-axis range\n});\n\nartboard.add(graph);\n```\n\n## Function Configuration\n\n### Single Function\n\n```javascript\nconst graph = new FunctionGraph({\n  functions: {\n    fn: (x) => x * x - 4,\n    color: \"#e74c3c\",\n    style: {\n      stroke: \"#e74c3c\",\n      strokeWidth: 2,\n    },\n    showPoints: false, // Don't show sample points\n  },\n  width: 600,\n  height: 400,\n  domain: [-5, 5],\n});\n```\n\n### Multiple Functions\n\n```javascript\nconst graph = new FunctionGraph({\n  functions: [\n    {\n      fn: (x) => x * x,\n      color: \"blue\",\n      style: { strokeWidth: 2 },\n    },\n    {\n      fn: (x) => 2 * x,\n      color: \"red\",\n      style: { strokeWidth: 2 },\n    },\n    {\n      fn: (x) => Math.sin(x) * 5,\n      color: \"green\",\n      style: { strokeWidth: 2, strokeDasharray: \"5,3\" },\n    },\n  ],\n  width: 600,\n  height: 400,\n  domain: [-5, 5],\n});\n\nartboard.add(graph);\n```\n\n## Graph Configuration\n\n### Grid and Axes\n\n```javascript\nconst graph = new FunctionGraph({\n  functions: { fn: (x) => x * x, color: \"blue\" },\n  width: 600,\n  height: 400,\n  domain: [-5, 5],\n\n  // Grid settings\n  showGrid: true,\n  gridSpacing: [1, 1], // Grid every 1 unit in both directions\n  gridStyle: {\n    stroke: \"#e0e0e0\",\n    strokeWidth: 0.5,\n  },\n\n  // Axes settings\n  showAxes: true,\n  axisStyle: {\n    stroke: \"black\",\n    strokeWidth: 2,\n  },\n\n  // Labels\n  showLabels: true,\n  minLabelDensity: 60, // Minimum pixels between labels\n});\n```\n\n### Auto Grid Spacing\n\n```javascript\n// Let the system calculate optimal grid spacing\nconst graph = new FunctionGraph({\n  functions: { fn: (x) => x * x, color: \"blue\" },\n  width: 600,\n  height: 400,\n  domain: [-10, 10],\n  showGrid: true,\n  // gridSpacing omitted - will auto-calculate for ~50-80px between labels\n  minLabelDensity: 50,\n});\n```\n\n### Sampling\n\n```javascript\nconst graph = new FunctionGraph({\n  functions: {\n    fn: (x) => Math.sin(x * 10), // High-frequency function\n    color: \"blue\",\n  },\n  width: 600,\n  height: 400,\n  domain: [-5, 5],\n  samples: 500, // More samples for smoother curve (default: 200)\n});\n```\n\n## Remarkable Points\n\n### Auto-Detection\n\nThe system automatically detects:\n\n- **Roots** - x-intercepts (where y = 0)\n- **Y-intercepts** - where x = 0\n- **Local maxima** - peak points\n- **Local minima** - valley points\n- **Inflection points** - where concavity changes\n- **Vertical asymptotes** - where function approaches infinity\n- **Discontinuities** - points where function is undefined\n- **Critical points** - where derivative is 0 or undefined\n\n```javascript\nconst graph = new FunctionGraph({\n  functions: {\n    fn: (x) => x * x - 4,\n    color: \"blue\",\n  },\n  width: 600,\n  height: 400,\n  domain: [-5, 5],\n  detectRemarkablePoints: true, // Enable detection (default)\n  showRemarkablePoints: true, // Show on graph (default: false)\n});\n\nartboard.add(graph);\n```\n\n### Accessing Remarkable Points\n\n```javascript\nconst graph = new FunctionGraph({\n  functions: {\n    fn: (x) => x * x - 4,\n    color: \"blue\",\n  },\n  width: 600,\n  height: 400,\n  domain: [-5, 5],\n});\n\nartboard.add(graph);\n\n// Get all remarkable points\nconst points = graph.getRemarkablePoints();\n\npoints.forEach((point) => {\n  console.log(`${point.type} at x=${point.x}, y=${point.y}`);\n  console.log(`Description: ${point.description}`);\n  console.log(`SVG position: (${point.svgPoint.x}, ${point.svgPoint.y})`);\n});\n```\n\n### Filtering Remarkable Points\n\n```javascript\nconst graph = new FunctionGraph({\n  functions: {\n    fn: (x) => x * x * x - 3 * x * x - x + 3,\n    color: \"blue\",\n  },\n  width: 600,\n  height: 400,\n  domain: [-3, 4],\n});\n\nartboard.add(graph);\n\n// Get only roots\nconst roots = graph.getRemarkablePoints().filter((p) => p.type === \"root\");\n\n// Get only extrema\nconst extrema = graph\n  .getRemarkablePoints()\n  .filter((p) => p.type === \"local-maximum\" || p.type === \"local-minimum\");\n\n// Get only inflection points\nconst inflections = graph\n  .getRemarkablePoints()\n  .filter((p) => p.type === \"inflection-point\");\n```\n\n### Manually Marking Remarkable Points\n\n```javascript\nconst graph = new FunctionGraph({\n  functions: {\n    fn: (x) => x * x - 4,\n    color: \"blue\",\n  },\n  width: 600,\n  height: 400,\n  domain: [-5, 5],\n  showRemarkablePoints: false, // Don't auto-show\n});\n\nartboard.add(graph);\n\n// Get remarkable points\nconst points = graph.getRemarkablePoints();\n\n// Manually mark each point with custom styling\npoints.forEach((point) => {\n  if (point.svgPoint) {\n    const marker = new Circle({\n      radius: 4,\n      style: {\n        fill:\n          point.type === \"root\"\n            ? \"red\"\n            : point.type === \"local-minimum\"\n              ? \"green\"\n              : point.type === \"local-maximum\"\n                ? \"blue\"\n                : \"orange\",\n      },\n    });\n\n    marker.position({\n      relativeFrom: marker.center,\n      relativeTo: point.svgPoint,\n      x: 0,\n      y: 0,\n    });\n\n    artboard.add(marker);\n\n    // Add label\n    const label = new Text({\n      content: `(${point.x.toFixed(1)}, ${point.y?.toFixed(1) || \"undefined\"})`,\n      fontSize: 10,\n    });\n\n    label.position({\n      relativeFrom: label.bottomCenter,\n      relativeTo: point.svgPoint,\n      x: 0,\n      y: -10,\n    });\n\n    artboard.add(label);\n  }\n});\n```\n\n## Shaded Regions\n\n### Area Under Curve\n\n```javascript\nconst graph = new FunctionGraph({\n  functions: [\n    {\n      fn: (x) => x * x,\n      color: \"blue\",\n    },\n  ],\n  width: 600,\n  height: 400,\n  domain: [-3, 3],\n  shadedRegions: [\n    {\n      topFunction: 0, // Index of function in functions array\n      bottomFunction: undefined, // Defaults to y=0 (x-axis)\n      domain: [0, 2], // Shade from x=0 to x=2\n      style: {\n        fill: \"rgba(100, 150, 255, 0.3)\",\n      },\n    },\n  ],\n});\n\nartboard.add(graph);\n```\n\n### Area Between Curves\n\n```javascript\nconst graph = new FunctionGraph({\n  functions: [\n    {\n      fn: (x) => x * x, // Function 0\n      color: \"blue\",\n    },\n    {\n      fn: (x) => 4 - x * x, // Function 1\n      color: \"red\",\n    },\n  ],\n  width: 600,\n  height: 400,\n  domain: [-3, 3],\n  shadedRegions: [\n    {\n      topFunction: 1, // 4 - x^2\n      bottomFunction: 0, // x^2\n      domain: [-1.5, 1.5], // Where top function is above bottom\n      style: {\n        fill: \"rgba(255, 200, 100, 0.4)\",\n      },\n    },\n  ],\n});\n\nartboard.add(graph);\n```\n\n### Multiple Shaded Regions\n\n```javascript\nconst graph = new FunctionGraph({\n  functions: [\n    {\n      fn: (x) => Math.sin(x),\n      color: \"blue\",\n    },\n  ],\n  width: 600,\n  height: 400,\n  domain: [0, 2 * Math.PI],\n  shadedRegions: [\n    // Positive regions\n    {\n      topFunction: 0,\n      domain: [0, Math.PI],\n      style: { fill: \"rgba(100, 255, 100, 0.3)\" },\n    },\n    // Negative regions\n    {\n      topFunction: undefined, // x-axis\n      bottomFunction: 0, // sin(x) below axis\n      domain: [Math.PI, 2 * Math.PI],\n      style: { fill: \"rgba(255, 100, 100, 0.3)\" },\n    },\n  ],\n});\n\nartboard.add(graph);\n```\n\n## Accessing Graph Elements\n\n### Get Axes Information\n\n```javascript\nconst graph = new FunctionGraph({\n  functions: { fn: (x) => x * x, color: \"blue\" },\n  width: 600,\n  height: 400,\n  domain: [-5, 5],\n});\n\nartboard.add(graph);\n\n// Get axis information\nconst xAxis = graph.getXAxis();\nconst yAxis = graph.getYAxis();\n\nconsole.log(\"X-axis:\", xAxis);\n// { direction: \"horizontal\", value: 0, start: {...}, end: {...}, ticks: [...] }\n\nconsole.log(\"Y-axis:\", yAxis);\n// { direction: \"vertical\", value: 0, start: {...}, end: {...}, ticks: [...] }\n\n// Access tick marks\nxAxis.ticks.forEach((tick) => {\n  console.log(\n    `Tick at x=${tick.value}, position (${tick.position.x}, ${tick.position.y})`\n  );\n});\n```\n\n## Common Functions\n\n### Polynomial Functions\n\n```javascript\n// Linear\nconst linear = new FunctionGraph({\n  functions: { fn: (x) => 2 * x + 1, color: \"blue\" },\n  width: 600,\n  height: 400,\n  domain: [-5, 5],\n});\n\n// Quadratic\nconst quadratic = new FunctionGraph({\n  functions: { fn: (x) => x * x - 4, color: \"red\" },\n  width: 600,\n  height: 400,\n  domain: [-5, 5],\n});\n\n// Cubic\nconst cubic = new FunctionGraph({\n  functions: { fn: (x) => x * x * x - 3 * x, color: \"green\" },\n  width: 600,\n  height: 400,\n  domain: [-3, 3],\n});\n```\n\n### Trigonometric Functions\n\n```javascript\nconst trig = new FunctionGraph({\n  functions: [\n    { fn: (x) => Math.sin(x), color: \"red\" },\n    { fn: (x) => Math.cos(x), color: \"blue\" },\n    { fn: (x) => Math.tan(x), color: \"green\" },\n  ],\n  width: 600,\n  height: 400,\n  domain: [-Math.PI * 2, Math.PI * 2],\n  range: [-3, 3],\n});\n```\n\n### Exponential and Logarithmic\n\n```javascript\nconst expLog = new FunctionGraph({\n  functions: [\n    { fn: (x) => Math.exp(x), color: \"red\" },\n    { fn: (x) => Math.log(x), color: \"blue\" },\n  ],\n  width: 600,\n  height: 400,\n  domain: [-3, 3],\n  range: [-3, 8],\n});\n```\n\n### Rational Functions\n\n```javascript\nconst rational = new FunctionGraph({\n  functions: {\n    fn: (x) => 1 / x,\n    color: \"purple\",\n  },\n  width: 600,\n  height: 400,\n  domain: [-5, 5],\n  range: [-5, 5],\n});\n```\n\n### Piecewise Functions\n\n```javascript\nconst piecewise = new FunctionGraph({\n  functions: {\n    fn: (x) => {\n      if (x < 0) return x * x;\n      else if (x < 2) return 2 * x;\n      else return 4;\n    },\n    color: \"orange\",\n  },\n  width: 600,\n  height: 400,\n  domain: [-3, 5],\n});\n```\n\n## Complete Examples\n\n### Quadratic with Roots and Vertex\n\n```javascript\nconst graph = new FunctionGraph({\n  functions: {\n    fn: (x) => x * x - 4,\n    color: \"blue\",\n    style: { strokeWidth: 2 },\n  },\n  width: 600,\n  height: 400,\n  domain: [-5, 5],\n  range: [-5, 10],\n  title: \"Quadratic Function\",\n  showGrid: true,\n  gridSpacing: [1, 1],\n});\n\nartboard.add(graph);\n\n// Get and mark remarkable points\nconst points = graph.getRemarkablePoints();\n\npoints.forEach((point) => {\n  if (point.svgPoint) {\n    // Draw marker\n    const marker = new Circle({\n      radius: 5,\n      style: {\n        fill:\n          point.type === \"root\"\n            ? \"red\"\n            : point.type === \"local-minimum\"\n              ? \"green\"\n              : \"orange\",\n        stroke: \"black\",\n        strokeWidth: 1,\n      },\n    });\n\n    marker.position({\n      relativeFrom: marker.center,\n      relativeTo: point.svgPoint,\n      x: 0,\n      y: 0,\n    });\n\n    artboard.add(marker);\n\n    // Add label\n    const label = new Text({\n      content: `${point.type}\\n(${point.x.toFixed(1)}, ${point.y?.toFixed(1)})`,\n      fontSize: 11,\n      style: { fill: \"black\" },\n    });\n\n    label.position({\n      relativeFrom: label.topCenter,\n      relativeTo: point.svgPoint,\n      x: 0,\n      y: point.type === \"local-minimum\" ? 15 : -15,\n    });\n\n    artboard.add(label);\n  }\n});\n```\n\n### Comparing Functions\n\n```javascript\nconst graph = new FunctionGraph({\n  functions: [\n    {\n      fn: (x) => x * x,\n      color: \"blue\",\n      style: { strokeWidth: 2 },\n    },\n    {\n      fn: (x) => x * x * x,\n      color: \"red\",\n      style: { strokeWidth: 2 },\n    },\n    {\n      fn: (x) => Math.pow(x, 4),\n      color: \"green\",\n      style: { strokeWidth: 2 },\n    },\n  ],\n  width: 600,\n  height: 400,\n  domain: [-2, 2],\n  range: [-2, 10],\n  title: \"Power Functions Comparison\",\n});\n\nartboard.add(graph);\n\n// Add legend\nconst container = new Container({\n  direction: \"vertical\",\n  spacing: 5,\n});\n\nconst functions = [\"y = x²\", \"y = x³\", \"y = x⁴\"];\nconst colors = [\"blue\", \"red\", \"green\"];\n\nfunctions.forEach((text, i) => {\n  const row = new Container({\n    direction: \"horizontal\",\n    spacing: 10,\n  });\n\n  const colorBox = new Rect({\n    width: 20,\n    height: 12,\n    style: { fill: colors[i] },\n  });\n\n  const label = new Text({\n    content: text,\n    fontSize: 12,\n  });\n\n  row.add(colorBox);\n  row.add(label);\n  container.add(row);\n});\n\ncontainer.position({\n  relativeFrom: container.topLeft,\n  relativeTo: graph.topRight,\n  x: 20,\n  y: 0,\n});\n\nartboard.add(container);\n```\n\n### Integral Visualization\n\n```javascript\nconst graph = new FunctionGraph({\n  functions: {\n    fn: (x) => x * x,\n    color: \"blue\",\n    style: { strokeWidth: 2 },\n  },\n  width: 600,\n  height: 400,\n  domain: [-1, 3],\n  shadedRegions: [\n    {\n      topFunction: 0,\n      domain: [0, 2],\n      style: { fill: \"rgba(100, 150, 255, 0.3)\" },\n    },\n  ],\n});\n\nartboard.add(graph);\n\n// Add integral notation\nconst integralLabel = new Text({\n  content: \"$\\\\int_{0}^{2} x^2 dx = \\\\frac{8}{3}$\",\n  fontSize: 18,\n});\n\nintegralLabel.position({\n  relativeFrom: integralLabel.topLeft,\n  relativeTo: graph.topRight,\n  x: 20,\n  y: 20,\n});\n\nartboard.add(integralLabel);\n```\n\n## Best Practices\n\n1. **Choose appropriate domain** - Match domain to function behavior\n2. **Set range when needed** - Auto-range is good, but manual range prevents clipping\n3. **Use enough samples** - 200 is default, increase for high-frequency functions\n4. **Auto grid spacing** - Let the system calculate optimal spacing\n5. **Style functions distinctly** - Use different colors/dash patterns for multiple functions\n6. **Label remarkable points** - Make important points clear with markers and text\n7. **Use shaded regions** - Visualize areas between curves or under curves\n8. **Handle discontinuities** - System detects them, but you may need to style appropriately"
}