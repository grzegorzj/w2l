{
  "id": "line",
  "title": "Line Guide",
  "description": "This guide covers the Line element for creating straight line segments between two points. Lines are fundamental for geometric diagrams, connecting elements, and creating constructions.",
  "covers": [
    "Circle",
    "Line",
    "Text",
    "Rect",
    "Angle",
    "Arrow"
  ],
  "topics": [
    "Creating a Line",
    "Positioning Lines",
    "Line Properties",
    "Labeling Lines",
    "Advanced Patterns",
    "Complete Example: Labeled Line Segment",
    "Common Calculations"
  ],
  "content": "### Basic Line\n\n```javascript\nconst line = new Line({\n  start: { x: 0, y: 0 },     // Starting point (relative)\n  end: { x: 100, y: 50 },    // Ending point (relative offset from start)\n  style: { stroke: \"black\", strokeWidth: 2 }\n});\n\nartboard.add(line);\n```\n\n**Important:** The `end` point is a relative offset from the `start` point, not an absolute position.\n\n### Line Styles\n\n```javascript\n// Solid line\nconst solid = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: 100, y: 0 },\n  style: { stroke: \"black\", strokeWidth: 2 }\n});\n\n// Dashed line\nconst dashed = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: 100, y: 0 },\n  style: { \n    stroke: \"blue\", \n    strokeWidth: 2,\n    strokeDasharray: \"5,5\"\n  }\n});\n\n// Dotted line\nconst dotted = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: 100, y: 0 },\n  style: { \n    stroke: \"red\", \n    strokeWidth: 2,\n    strokeDasharray: \"2,3\"\n  }\n});\n\n// Thick line\nconst thick = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: 100, y: 0 },\n  style: { stroke: \"green\", strokeWidth: 5 }\n});\n\n// Colored line\nconst colored = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: 100, y: 0 },\n  style: { \n    stroke: \"rgba(255, 100, 100, 0.8)\", \n    strokeWidth: 3 \n  }\n});\n```\n\n## Positioning Lines\n\n### Absolute Positioning\n\nPosition the line's start point at specific coordinates.\n\n```javascript\nconst line = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: 100, y: 50 }\n});\n\n// Position start point at (50, 50) on artboard\nline.position({\n  relativeFrom: line.start,\n  relativeTo: artboard.contentBox.topLeft,\n  x: 50,\n  y: 50\n});\n\nartboard.add(line);\n```\n\n### Connecting Two Elements\n\nDraw a line between two shapes.\n\n```javascript\nconst circle1 = new Circle({ radius: 20, style: { fill: \"blue\" } });\nconst circle2 = new Circle({ radius: 20, style: { fill: \"red\" } });\n\n// Position circles\ncircle1.position({\n  relativeFrom: circle1.center,\n  relativeTo: artboard.contentBox.center,\n  x: -60,\n  y: 0\n});\n\ncircle2.position({\n  relativeFrom: circle2.center,\n  relativeTo: artboard.contentBox.center,\n  x: 60,\n  y: 0\n});\n\nartboard.add(circle1);\nartboard.add(circle2);\n\n// Draw line connecting their centers\nconst line = new Line({\n  start: { x: 0, y: 0 },\n  end: { \n    x: circle2.center.x - circle1.center.x, \n    y: circle2.center.y - circle1.center.y \n  },\n  style: { stroke: \"black\", strokeWidth: 2 }\n});\n\nline.position({\n  relativeFrom: line.start,\n  relativeTo: circle1.center,\n  x: 0,\n  y: 0\n});\n\nartboard.add(line);\n```\n\n### Line from Point to Point\n\n```javascript\n// Define two points\nconst pointA = { x: 100, y: 100 };\nconst pointB = { x: 250, y: 180 };\n\n// Create line between them\nconst line = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: pointB.x - pointA.x, y: pointB.y - pointA.y },\n  style: { stroke: \"navy\", strokeWidth: 2 }\n});\n\nline.position({\n  relativeFrom: line.start,\n  relativeTo: pointA,\n  x: 0,\n  y: 0\n});\n\nartboard.add(line);\n```\n\n## Line Properties\n\n### Get Line Endpoints\n\n```javascript\nconst line = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: 100, y: 50 }\n});\n\n// After positioning, get absolute coordinates\nconst startPoint = line.start;\nconst endPoint = line.end;\n\nconsole.log(startPoint);  // Absolute position of start\nconsole.log(endPoint);    // Absolute position of end\n```\n\n### Get Line Center\n\n```javascript\nconst lineCenter = line.center;\nconsole.log(lineCenter);  // Midpoint of the line\n```\n\n### Get Line Length\n\n```javascript\nconst length = line.length;\nconsole.log(length);  // Length in pixels\n```\n\n### Get Line Angle\n\n```javascript\nconst angle = line.angle;\nconsole.log(angle);  // Angle in degrees (0° = horizontal right)\n```\n\n### Get Line Direction\n\n```javascript\nconst direction = line.direction;\nconsole.log(direction);  // Unit vector in line's direction\n```\n\n### Get Line Normal\n\n```javascript\nconst normal = line.normal;\nconsole.log(normal);  // Unit vector perpendicular to line\n```\n\n## Labeling Lines\n\n### Create Line Label\n\n```javascript\nconst line = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: 120, y: 0 },\n  style: { stroke: \"navy\", strokeWidth: 2 }\n});\n\nartboard.add(line);\n\n// Create label at line center\nconst label = line.createLabel(\"$d$\", {\n  offset: 15,           // Distance from line (default: 10)\n  fontSize: 14,         // Font size (default: 16)\n  side: 'above'         // Position: 'left', 'right', 'above', 'below'\n});\n\nartboard.add(label);\n```\n\n**Label Positioning Options:**\n- `side: 'left'` - Left of the line (relative to start → end direction)\n- `side: 'right'` - Right of the line (relative to start → end direction)\n- `side: 'above'` - Above the line (perpendicular up)\n- `side: 'below'` - Below the line (perpendicular down)\n\n### Multiple Labels\n\n```javascript\n// Label showing length\nconst lengthLabel = line.createLabel(`${line.length.toFixed(0)} px`, {\n  offset: 12,\n  side: 'above'\n});\n\nartboard.add(lengthLabel);\n\n// Label showing name\nconst nameLabel = line.createLabel(\"$AB$\", {\n  offset: 12,\n  side: 'below'\n});\n\nartboard.add(nameLabel);\n```\n\n## Advanced Patterns\n\n### Perpendicular Lines\n\n```javascript\n// Horizontal line\nconst line1 = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: 100, y: 0 },\n  style: { stroke: \"blue\", strokeWidth: 2 }\n});\n\nartboard.add(line1);\n\n// Perpendicular line at center\nconst perpendicular = new Line({\n  start: { x: 0, y: -40 },\n  end: { x: 0, y: 40 },\n  style: { stroke: \"red\", strokeWidth: 2 }\n});\n\nperpendicular.position({\n  relativeFrom: { x: 0, y: 0 },\n  relativeTo: line1.center,\n  x: 0,\n  y: 0\n});\n\nartboard.add(perpendicular);\n\n// Mark right angle with a small square\nconst squareSize = 10;\nconst rightAngleMarker = new Rect({\n  width: squareSize,\n  height: squareSize,\n  style: { fill: \"none\", stroke: \"black\", strokeWidth: 1 }\n});\n\nrightAngleMarker.position({\n  relativeFrom: rightAngleMarker.center,\n  relativeTo: line1.center,\n  x: squareSize / 2,\n  y: -squareSize / 2\n});\n\nartboard.add(rightAngleMarker);\n```\n\n### Line with Endpoints Marked\n\n```javascript\nconst line = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: 120, y: 60 },\n  style: { stroke: \"navy\", strokeWidth: 2 }\n});\n\nartboard.add(line);\n\n// Mark endpoints with circles\nconst startDot = new Circle({\n  radius: 4,\n  style: { fill: \"red\" }\n});\n\nstartDot.position({\n  relativeFrom: startDot.center,\n  relativeTo: line.start,\n  x: 0,\n  y: 0\n});\n\nartboard.add(startDot);\n\nconst endDot = new Circle({\n  radius: 4,\n  style: { fill: \"blue\" }\n});\n\nendDot.position({\n  relativeFrom: endDot.center,\n  relativeTo: line.end,\n  x: 0,\n  y: 0\n});\n\nartboard.add(endDot);\n\n// Label endpoints\nconst startLabel = new Text({ content: \"$A$\", fontSize: 14 });\nstartLabel.position({\n  relativeFrom: startLabel.center,\n  relativeTo: line.start,\n  x: -15,\n  y: 0\n});\nartboard.add(startLabel);\n\nconst endLabel = new Text({ content: \"$B$\", fontSize: 14 });\nendLabel.position({\n  relativeFrom: endLabel.center,\n  relativeTo: line.end,\n  x: 15,\n  y: 0\n});\nartboard.add(endLabel);\n```\n\n### Parallel Lines\n\n```javascript\n// First line\nconst line1 = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: 120, y: 0 },\n  style: { stroke: \"blue\", strokeWidth: 2 }\n});\n\nline1.position({\n  relativeFrom: line1.start,\n  relativeTo: artboard.contentBox.center,\n  x: -60,\n  y: -20\n});\n\nartboard.add(line1);\n\n// Parallel line (same direction, different position)\nconst line2 = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: 120, y: 0 },\n  style: { stroke: \"red\", strokeWidth: 2 }\n});\n\nline2.position({\n  relativeFrom: line2.start,\n  relativeTo: artboard.contentBox.center,\n  x: -60,\n  y: 20\n});\n\nartboard.add(line2);\n```\n\n### Line Segment with Midpoint\n\n```javascript\nconst line = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: 140, y: 80 },\n  style: { stroke: \"navy\", strokeWidth: 2 }\n});\n\nartboard.add(line);\n\n// Mark midpoint\nconst midpoint = new Circle({\n  radius: 4,\n  style: { fill: \"red\" }\n});\n\nmidpoint.position({\n  relativeFrom: midpoint.center,\n  relativeTo: line.center,\n  x: 0,\n  y: 0\n});\n\nartboard.add(midpoint);\n\nconst midpointLabel = new Text({ content: \"$M$\", fontSize: 14 });\nmidpointLabel.position({\n  relativeFrom: midpointLabel.center,\n  relativeTo: line.center,\n  x: 0,\n  y: -15\n});\nartboard.add(midpointLabel);\n```\n\n### Ray (Line with Arrowhead)\n\n```javascript\n// Create line\nconst ray = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: 120, y: 0 },\n  style: { \n    stroke: \"blue\", \n    strokeWidth: 2,\n    markerEnd: \"url(#arrow)\"\n  }\n});\n\n// Note: Arrow markers require SVG marker definitions\n// For simple arrows, draw a small triangle at the end point\n\nconst arrowSize = 8;\nconst angle = ray.angle * Math.PI / 180;\n\nconst arrowTip = ray.end;\nconst arrowBase1 = {\n  x: arrowTip.x - arrowSize * Math.cos(angle - Math.PI / 6),\n  y: arrowTip.y - arrowSize * Math.sin(angle - Math.PI / 6)\n};\nconst arrowBase2 = {\n  x: arrowTip.x - arrowSize * Math.cos(angle + Math.PI / 6),\n  y: arrowTip.y - arrowSize * Math.sin(angle + Math.PI / 6)\n};\n\n// Draw arrow as a small triangle\n// (This would require a custom path or polygon element)\n```\n\n## Complete Example: Labeled Line Segment\n\n```javascript\n// Create the line segment\nconst line = new Line({\n  start: { x: 0, y: 0 },\n  end: { x: 150, y: 0 },\n  style: { stroke: \"navy\", strokeWidth: 2 }\n});\n\nline.position({\n  relativeFrom: line.start,\n  relativeTo: artboard.contentBox.center,\n  x: -75,\n  y: 0\n});\n\nartboard.add(line);\n\n// Mark endpoints\nconst pointA = new Circle({ radius: 4, style: { fill: \"red\" } });\npointA.position({\n  relativeFrom: pointA.center,\n  relativeTo: line.start,\n  x: 0,\n  y: 0\n});\nartboard.add(pointA);\n\nconst pointB = new Circle({ radius: 4, style: { fill: \"red\" } });\npointB.position({\n  relativeFrom: pointB.center,\n  relativeTo: line.end,\n  x: 0,\n  y: 0\n});\nartboard.add(pointB);\n\n// Label endpoints\nconst labelA = new Text({ content: \"$A$\", fontSize: 16 });\nlabelA.position({\n  relativeFrom: labelA.center,\n  relativeTo: line.start,\n  x: 0,\n  y: -20\n});\nartboard.add(labelA);\n\nconst labelB = new Text({ content: \"$B$\", fontSize: 16 });\nlabelB.position({\n  relativeFrom: labelB.center,\n  relativeTo: line.end,\n  x: 0,\n  y: -20\n});\nartboard.add(labelB);\n\n// Label the line segment\nconst segmentLabel = line.createLabel(\"$d = 150$\", {\n  offset: 10,\n  side: 'below',\n  fontSize: 14\n});\nartboard.add(segmentLabel);\n\n// Mark midpoint\nconst midpoint = new Circle({ radius: 3, style: { fill: \"blue\" } });\nmidpoint.position({\n  relativeFrom: midpoint.center,\n  relativeTo: line.center,\n  x: 0,\n  y: 0\n});\nartboard.add(midpoint);\n\nconst midLabel = new Text({ content: \"$M$\", fontSize: 14 });\nmidLabel.position({\n  relativeFrom: midLabel.center,\n  relativeTo: line.center,\n  x: 0,\n  y: 15\n});\nartboard.add(midLabel);\n```\n\n## Best Practices\n\n1. **Use relative offsets** - End point is relative to start point\n2. **Position from start** - Position lines using their start point\n3. **Label with createLabel()** - Use built-in labeling for consistency\n4. **Mark endpoints** - Use small circles to mark important points\n5. **Use appropriate styles** - Dashed for auxiliary lines, solid for main lines\n6. **Calculate properly** - When connecting points, subtract coordinates\n7. **Consider line direction** - For labels, 'left'/'right' are relative to direction\n8. **Use normals** - For perpendicular constructions, use line.normal\n\n## Common Calculations\n\n### Line Length\n\n```javascript\nconst dx = end.x - start.x;\nconst dy = end.y - start.y;\nconst length = Math.sqrt(dx * dx + dy * dy);\n```\n\n### Line Angle\n\n```javascript\nconst angle = Math.atan2(dy, dx) * 180 / Math.PI;\n```\n\n### Point on Line\n\n```javascript\n// Point at parameter t (0 = start, 1 = end, 0.5 = midpoint)\nconst t = 0.5;\nconst point = {\n  x: start.x + t * (end.x - start.x),\n  y: start.y + t * (end.y - start.y)\n};\n```\n\n### Perpendicular Direction\n\n```javascript\n// Rotate direction 90 degrees\nconst perpendicular = {\n  x: -direction.y,\n  y: direction.x\n};\n```\n\n## Troubleshooting\n\n**Line not showing?**\n- Check that strokeWidth > 0\n- Verify stroke color is not \"none\"\n- Ensure line is added to artboard\n- Check positioning\n\n**Line in wrong place?**\n- Remember end is relative offset from start\n- Check relativeFrom/relativeTo in position()\n- Verify absolute positions of referenced elements\n\n**Label not positioned correctly?**\n- Try different side values ('left', 'right', 'above', 'below')\n- Adjust offset distance\n- Check line direction\n\n**Lines not connecting properly?**\n- Calculate relative offset correctly (endPos - startPos)\n- Ensure referenced positions are absolute"
}